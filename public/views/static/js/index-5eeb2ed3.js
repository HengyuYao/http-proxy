var mt=Object.defineProperty,Ct=Object.defineProperties;var yt=Object.getOwnPropertyDescriptors;var je=Object.getOwnPropertySymbols;var St=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable;var qe=(e,s,n)=>s in e?mt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,H=(e,s)=>{for(var n in s||(s={}))St.call(s,n)&&qe(e,n,s[n]);if(je)for(var n of je(s))Tt.call(s,n)&&qe(e,n,s[n]);return e},me=(e,s)=>Ct(e,yt(s));var de=(e,s,n)=>new Promise((h,o)=>{var g=p=>{try{u(n.next(p))}catch(l){o(l)}},d=p=>{try{u(n.throw(p))}catch(l){o(l)}},u=p=>p.done?h(p.value):Promise.resolve(p.value).then(g,d);u((n=n.apply(e,s)).next())});import{m as Ke,a6 as nt,cQ as xt,aM as Xe,cR as F,b9 as ke,bf as Ae,ad as wt,d as q,be as ge,Q as fe,a5 as I,o as E,c as X,r as Fe,F as re,q as ue,X as ne,aw as j,u as t,W as $e,n as $,h as te,aE as at,E as B,w as x,G as _e,ay as Ne,aC as De,aD as Be,az as rt,ac as Q,a4 as ct,l as ze,ae as Je,L as ae,ax as lt,a as D,cS as Et,a3 as Se,j as N,cT as Ze,x as Me,y as Re,b as w,g as bt,e as he,t as ee,aX as Lt,cE as G,cF as K,aY as pe,cD as kt,U as Ee,V as be,b8 as Dt,cU as It,aL as $t,cV as Mt,af as Rt,cW as Ut,C as Ot,ai as Qe,bj as Ht,N as At,cX as Pt,aN as Yt,O as Xt,al as Nt,am as we,aK as Pe,cY as Bt,bu as Gt}from"./index-5531d778.js";import{u as We,d as Kt}from"./index-96a8f629.js";import{u as oe,g as V,j as k,k as Le,a as Ft}from"./chartEditStore-525fc79f.js";import{e as zt,S as Wt}from"./index-1690038a.js";import{a as Vt}from"./useKeyboard.hook-7cb89d49.js";import{u as it}from"./useSync.hook-540a79d6.js";import{a as jt,b as et,l as qt,g as Jt}from"./plugin-7a93f679.js";import{C as Zt}from"./index-773acd65.js";import"./querySelectorAll-a1c431d2.js";import{l as tt}from"./listen-92ff7612.js";import{u as ut,C as dt}from"./chartLayoutStore-6a0b58af.js";import{i as le}from"./icon-625a16eb.js";import{G as Qt}from"./index.vue_vue_type_script_setup_true_lang-31057ca3.js";import{F as ot}from"./fileTypeEnum-21359a08.js";import{u as eo}from"./useSyncUpdate.hook-51b89d8f.js";import"./index-d3140803.js";import"./SettingItem-aa3a5453.js";/* empty css                                                                      */import"./SettingItemBox-987e6286.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-db13620c.js";import"./index.esm.min-2b03ba21.js";import"./project.api-0de940dc.js";const Ce=oe(),to=e=>{let s=()=>{};Ke(()=>de(void 0,null,function*(){Ce.setEditCanvas(V.EDIT_LAYOUT_DOM,document.getElementById("go-chart-edit-layout")),Ce.setEditCanvas(V.EDIT_CONTENT_DOM,document.getElementById("go-chart-edit-content")),yield e(),s=Ce.listenerScale()})),nt(()=>{Ce.setEditCanvas(V.EDIT_LAYOUT_DOM,null),Ce.setEditCanvas(V.EDIT_CONTENT_DOM,null),s()})},y=oe(),{onClickOutSide:oo}=We(),so=e=>de(void 0,null,function*(){e.preventDefault();try{jt();const s=e.dataTransfer.getData(xt.DRAG_KEY);if(!s){et();return}y.setEditCanvas(V.IS_CREATE,!1);const n=Xe(s);if(n.disabled)return;let h=yield zt(n);n.redirectComponent&&(n.dataset&&(h.option.dataset=n.dataset),h.chartConfig.title=n.title,h.chartConfig.chartFrame=n.chartFrame),F(h,e.offsetX-h.attr.w/2,e.offsetY-h.attr.h/2),y.addComponentList(h,!1,!0),y.setTargetSelectChart(h.id),et()}catch(s){qt(),window.$message.warning("å›¾è¡¨æ­£åœ¨ç ”å‘ä¸­, æ•¬è¯·æœŸå¾…...")}}),st=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},pt=(e,s)=>{if(s){y.setTargetSelectChart(s.id);return}y.setTargetSelectChart(void 0)},no=(e,s)=>{var l;if(e.which==2||(l=window.$KeyboardActive)!=null&&l.space)return;pt();const n=e.offsetX,h=e.offsetY,o=e.screenX,g=e.screenY,d=y.getEditCanvas.scale;y.setMousePosition(void 0,void 0,n,h);const u=ke.throttle(_=>{y.setTargetSelectChart(),y.setEditCanvas(V.IS_SELECT,!0);const r=n+_.screenX-o,a=h+_.screenY-g;y.setMousePosition(r,a);const f={x1:0,y1:0,x2:0,y2:0};r>n&&a>h?(f.x1=n,f.y1=h,f.x2=Math.round(n+(_.screenX-o)/d),f.y2=Math.round(h+(_.screenY-g)/d)):r>n&&a<h?(f.x1=n,f.y1=Math.round(h-(g-_.screenY)/d),f.x2=Math.round(n+(_.screenX-o)/d),f.y2=h):r<n&&a>h?(f.x1=Math.round(n-(o-_.screenX)/d),f.y1=h,f.x2=n,f.y2=Math.round(h+(_.screenY-g)/d)):(f.x1=Math.round(n-(o-_.screenX)/d),f.y1=Math.round(h-(g-_.screenY)/d),f.x2=n,f.y2=h),y.getComponentList.forEach(c=>{if(!y.getTargetChart.selectId.includes(c.id)){const{x:i,y:m,w:S,h:T}=c.attr,b={x1:i,y1:m,x2:i+S,y2:m+T};b.x1-f.x1>=0&&b.y1-f.y1>=0&&b.x2-f.x2<=0&&b.y2-f.y2<=0&&!c.status.lock&&!c.status.hide&&y.setTargetSelectChart(c.id,!0)}})},30),p=()=>{u.cancel(),y.setEditCanvas(V.IS_SELECT,!1),y.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)},_t=()=>({mouseClickHandle:(o,g)=>{var d;if(o.preventDefault(),o.stopPropagation(),!g.status.lock&&(d=window.$KeyboardActive)!=null&&d.ctrl)if(y.targetChart.selectId.includes(g.id)){const u=y.targetChart.selectId.filter(p=>p!==g.id);y.setTargetSelectChart(u)}else y.setTargetSelectChart(g.id,!0)},mousedownHandle:(o,g)=>{var m;if(o.preventDefault(),o.stopPropagation(),g.status.lock||(oo(),o.buttons===Ae.LEFT&&((m=window.$KeyboardActive)!=null&&m.ctrl)))return;const d=y.getTargetChart.selectId;if(o.buttons===Ae.RIGHT&&d.length>1&&d.includes(g.id)||(y.setTargetSelectChart(g.id),o.buttons===Ae.RIGHT))return;const u=y.getEditCanvas.scale,p=y.getEditCanvasConfig.width,l=y.getEditCanvasConfig.height,_=new Map;y.getTargetChart.selectId.forEach(S=>{const T=y.fetchTargetIndex(S);if(T!==-1){const{x:b,y:L,w:O,h:z}=wt(y.getComponentList[T]).attr;_.set(S,{x:b,y:L,w:O,h:z})}});const r=o.screenX,a=o.screenY;let f=[];y.getTargetChart.selectId.forEach(S=>{if(!_.has(S))return;const T=y.fetchTargetIndex(S);f.push(ke.cloneDeep(y.getComponentList[T]))}),y.setMousePosition(void 0,void 0,r,a);const c=ke.throttle(S=>{y.setEditCanvas(V.IS_DRAG,!0),y.setMousePosition(S.screenX,S.screenY);let T=(S.screenX-r)/u,b=(S.screenY-a)/u;y.getTargetChart.selectId.forEach(L=>{if(!_.has(L))return;const O=y.fetchTargetIndex(L),{x:z,y:se,w:P,h:C}=_.get(L),M=y.getComponentList[O];let A=Math.round(z+T),Y=Math.round(se+b);const v=50;A=A<-P+v?-P+v:A,Y=Y<-C+v?-C+v:Y,A=A>p-v?p-v:A,Y=Y>l-v?l-v:Y,M&&(M.attr=Object.assign(M.attr,{x:A,y:Y}))})},20),i=()=>{try{if(y.setMousePosition(0,0,0,0),y.setEditCanvas(V.IS_DRAG,!1),f.length){y.getTargetChart.selectId.forEach(T=>{if(!_.has(T))return;const b=y.fetchTargetIndex(T),L=y.getComponentList[b];f.forEach(O=>{O.id===T&&(O.attr=Object.assign(O.attr,{offsetX:L.attr.x-O.attr.x,offsetY:L.attr.y-O.attr.y}))})});const S=f.filter(T=>T.attr.offsetX!==0&&T.attr.offsetY!==0);S.length&&y.moveComponentList(S)}document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",i)}catch(S){console.log(S)}};document.addEventListener("mousemove",c),document.addEventListener("mouseup",i)},mouseenterHandle:(o,g)=>{o.preventDefault(),o.stopPropagation(),y.getEditCanvas.isSelect||y.setTargetHoverChart(g.id)},mouseleaveHandle:(o,g)=>{o.preventDefault(),o.stopPropagation(),y.setEditCanvas(V.IS_DRAG,!1),y.setTargetHoverChart(void 0)}}),ao=(e,s,n)=>{e.stopPropagation(),e.preventDefault(),y.setEditCanvas(V.IS_DRAG,!0);const h=y.getEditCanvas.scale,o=n.x,g=n.y,d=n.w,u=n.h,p=e.screenX,l=e.screenY;y.setMousePosition(p,l);const _=ke.throttle(a=>{y.setMousePosition(a.screenX,a.screenY);let f=Math.round((a.screenX-p)/h),c=Math.round((a.screenY-l)/h);const i=/t/.test(s),m=/b/.test(s),S=/l/.test(s),T=/r/.test(s),b=u+(i?-c:m?c:0),L=d+(S?-f:T?f:0);n.h=b>0?b:0,n.w=L>0?L:0,n.x=o+(S?f:0),n.y=g+(i?c:0)},50),r=()=>{y.setEditCanvas(V.IS_DRAG,!1),y.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",r)},Ie=(e,s)=>e?{zIndex:s+1,left:`${e.x}px`,top:`${e.y}px`}:{},ie=(e,s)=>e?{width:`${s?s*e.w:e.w}px`,height:`${s?s*e.h:e.h}px`}:{},ro=(e,s,n,h)=>{const{w:o,h:g}=n,d=/t/.test(e),u=/b/.test(e),p=/l/.test(e),l=/r/.test(e);let _=0,r=0;return e.length===2?(_=p?0:o,r=d?0:g):((d||u)&&(_=o/2,r=d?0:g),(p||l)&&(_=p?0:o,r=Math.floor(g/2))),{left:`${_}px`,top:`${r}px`,cursor:h[s]+"-resize"}},co=["onMousedown"],lo=q({__name:"index",props:{item:{type:Object,required:!0},hiddenPoint:{type:Boolean,required:!1}},setup(e){const s=e;ge(r=>({ab01a3ce:t(d)}));const n=fe(),h=oe(),o=["t","r","b","l","lt","rt","lb","rb"],g=["n","e","s","w","nw","ne","sw","se"],d=I(()=>n.getAppTheme),u=I(()=>h.getEditCanvas[V.IS_DRAG]||s.item.status.lock?!1:s.item.id===h.getTargetChart.hoverId),p=I(()=>{const r=s.item.id;return s.item.status.lock?!1:h.getTargetChart.selectId.find(a=>a===r)}),l=I(()=>s.item.status.lock),_=I(()=>s.item.status.hide);return(r,a)=>(E(),X("div",{class:ne(["go-shape-box",{lock:t(l),hide:t(_)}])},[Fe(r.$slots,"default",{},void 0,!0),e.hiddenPoint?$e("",!0):(E(!0),X(re,{key:0},ue(t(p)?o:[],(f,c)=>(E(),X("div",{class:ne(`shape-point ${f}`),key:c,style:j(t(ro)(f,c,e.item.attr,g)),onMousedown:i=>t(ao)(i,f,e.item.attr)},null,46,co))),128)),$("div",{class:"shape-modal",style:j(t(ie)(e.item.attr))},[$("div",{class:ne(["shape-modal-select",{active:t(p)}])},null,2),$("div",{class:ne(["shape-modal-change",{selectActive:t(p),hoverActive:t(u)}])},null,2)],4)],2))}});const Ge=te(lo,[["__scopeId","data-v-e6e74e0e"]]),io={class:"go-edit-group-box"},uo=q({__name:"index",props:{groupData:{type:Object,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const s=oe(),{handleContextMenu:n}=We(),{mouseenterHandle:h,mouseleaveHandle:o,mousedownHandle:g,mouseClickHandle:d}=_t(),u=(_,r,a)=>{const f=c=>r.filter(i=>c.includes(i.key));if(s.getTargetChart.selectId.length>1)return f([Q.GROUP,Q.DELETE]);{const c=[];a.status.lock?c.push(Q.LOCK):c.push(Q.UNLOCK),a.status.hide?c.push(Q.HIDE):c.push(Q.SHOW);const i=[Q.UN_GROUP];return[...f(i),Kt(),..._.filter(m=>!c.includes(m.key))]}},p=I(()=>at(s.getEditCanvasConfig.chartCustomThemeColorInfo)[s.getEditCanvasConfig.chartThemeColor]),l=I(()=>s.getEditCanvasConfig.chartThemeSetting);return(_,r)=>(E(),X("div",io,[(E(),B(t(Ge),{key:e.groupData.id,"data-id":e.groupData.id,index:e.groupIndex,item:e.groupData,hiddenPoint:!0,class:ne(t(Ne)(e.groupData.styles.animations)),style:j(H(H(H(H(H({},t(Ie)(e.groupData.attr,e.groupIndex)),t(ie)(e.groupData.attr)),t(De)(e.groupData.styles)),t(Be)(e.groupData.styles)),t(rt)(e.groupData.styles))),onClick:r[0]||(r[0]=a=>t(d)(a,e.groupData)),onMousedown:r[1]||(r[1]=a=>t(g)(a,e.groupData)),onMouseenter:r[2]||(r[2]=a=>t(h)(a,e.groupData)),onMouseleave:r[3]||(r[3]=a=>t(o)(a,e.groupData)),onContextmenu:r[4]||(r[4]=a=>t(n)(a,e.groupData,u))},{default:x(()=>[(E(!0),X(re,null,ue(e.groupData.groupList,a=>(E(),B(t(Ge),{key:a.id,"data-id":a.id,index:e.groupIndex,item:a,hiddenPoint:!0,style:j(H({},t(Ie)(a.attr,e.groupIndex)))},{default:x(()=>[(E(),B(_e(a.chartConfig.chartKey),{class:ne(["edit-content-chart",t(Ne)(a.styles.animations)]),chartConfig:a,themeSetting:t(l),themeColor:t(p),style:j(H(H(H({},t(ie)(a.attr)),t(De)(a.styles)),t(Be)(a.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","item","style"]))),128))]),_:1},8,["data-id","index","item","class","style"]))]))}}),po={class:"go-edit-align-line"},_o=q({__name:"index",setup(e){ge(c=>({"2a25621e":t(d)}));const s=fe(),n=oe(),h=ct(),o=ze({lineArr:["rowt","rowc","rowb","coll","colc","colr"],select:new Map,sorptioned:{x:!1,y:!1}}),g=c=>c?{left:`${c.x?c.x:0}px`,top:`${c.y?c.y:0}px`}:{},d=I(()=>s.getAppTheme),u=I(()=>h.getChartAlignRange),p=I(()=>n.getEditCanvas[V.IS_DRAG]),l=(c,i)=>Math.abs(c-i)<=u.value,_=I(()=>n.getTargetChart.selectId),r=I(()=>n.getComponentList[n.fetchTargetIndex()]),a=I(()=>{var c;return((c=r.value)==null?void 0:c.attr)||{}}),f=I(()=>({id:"0",attr:{w:Je(n.getEditCanvasConfig.width),h:Je(n.getEditCanvasConfig.height),x:0,y:0,offsetX:0,offsetY:0,zIndex:0}}));return ae(()=>n.getMousePosition,lt(()=>{try{if(!p.value||_.value.length!==1)return;const c=a.value.w,i=a.value.h,m=a.value.x,S=m+c/2,T=m+c,b=[m,S,T],L=a.value.y,O=L+i/2,z=L+i,se=[L,O,z];o.select.clear(),o.sorptioned.y=!1;const P=n.getComponentList.map(C=>({id:C.id,attr:C.attr}));P.push(f.value),o.lineArr.forEach(C=>{P.forEach(M=>{if(_.value[0]===M.id)return;const A=M.attr.w,Y=M.attr.h,v=M.attr.x,U=v+A/2,R=v+A,ve=[v,U,R],W=M.attr.y,J=W+Y/2,Z=W+Y,Ue=[W,J,Z];C.includes("rowt")&&(l(L,W)&&(o.select.set(C,{y:W}),F(r.value,m,W)),l(L,J)&&(o.select.set(C,{y:J}),F(r.value,m,J)),l(L,Z)&&(o.select.set(C,{y:Z}),F(r.value,m,Z))),C.includes("rowc")&&(l(O,W)&&(o.select.set(C,{y:W}),F(r.value,m,W-i/2)),l(O,J)&&(o.select.set(C,{y:J}),F(r.value,m,J-i/2)),l(O,Z)&&(o.select.set(C,{y:Z}),F(r.value,m,Z-i/2))),C.includes("rowb")&&(l(z,W)&&(o.select.set(C,{y:W}),F(r.value,m,W-i)),l(z,J)&&(o.select.set(C,{y:J}),F(r.value,m,J-i)),l(z,Z)&&(o.select.set(C,{y:Z}),F(r.value,m,Z-i))),C.includes("coll")&&(l(m,v)&&(o.select.set(C,{x:v}),F(r.value,v,L)),l(m,U)&&(o.select.set(C,{x:U}),F(r.value,U,L)),l(m,R)&&(o.select.set(C,{x:R}),F(r.value,R,L))),C.includes("colc")&&(l(S,v)&&(o.select.set(C,{x:v}),F(r.value,v-c/2,L)),l(S,U)&&(o.select.set(C,{x:U}),F(r.value,U-c/2,L)),l(S,R)&&(o.select.set(C,{x:R}),F(r.value,R-c/2,L))),C.includes("colr")&&(l(T,v)&&(o.select.set(C,{x:v}),F(r.value,v-c,L)),l(T,U)&&(o.select.set(C,{x:U}),F(r.value,U-c,L)),l(T,R)&&(o.select.set(C,{x:R}),F(r.value,R-c,L)))})})}catch(c){console.log(c)}},200),{deep:!0}),ae(()=>p.value,c=>{c||(o.select.clear(),o.sorptioned.y=!1)}),(c,i)=>(E(),X("div",po,[(E(!0),X(re,null,ue(o.lineArr,m=>(E(),X("div",{class:ne(["line",[m.includes("row")?"row":"col",o.select.has(m)&&"visible"]]),key:m,style:j(g(o.select.get(m)))},null,6))),128))]))}});const ho=te(_o,[["__scopeId","data-v-792c43f5"]]),go=q({__name:"index",setup(e){return(s,n)=>{const h=D("n-watermark");return E(),B(h,{id:"go-edit-watermark",content:t(Et),cross:"",selectable:"","font-size":16,"line-height":16,width:500,height:150,"x-offset":12,"y-offset":80,rotate:-15},null,8,["content"])}}});const fo=te(go,[["__scopeId","data-v-15e7d440"]]),ht=e=>(Me("data-v-649acbea"),e=e(),Re(),e),vo=ht(()=>$("div",{class:"select-background"},null,-1)),mo=ht(()=>$("div",{class:"select-border"},null,-1)),Co=[vo,mo],yo=q({__name:"index",setup(e){ge(u=>({"4898c5de":t(g)}));const s=fe(),n=oe(),{isSelect:h,scale:o}=Se(n.getEditCanvas),g=I(()=>s.getAppTheme),d=N();return ae(()=>n.getMousePosition,u=>{if(!h.value)return;const{startX:p,startY:l,x:_,y:r}=u,a={zIndex:Ze,x:0,y:0,w:0,h:0,offsetX:0,offsetY:0};_>p&&r>l?(a.x=p,a.y=l,a.w=Math.round((_-p)/o.value),a.h=Math.round((r-l)/o.value)):_>p&&r<l?(a.x=p,a.w=Math.round((_-p)/o.value),a.h=Math.round((l-r)/o.value),a.y=l-a.h):_<p&&r>l?(a.y=l,a.w=Math.round((p-_)/o.value),a.h=Math.round((r-l)/o.value),a.x=p-a.w):(a.w=Math.round((p-_)/o.value),a.h=Math.round((l-r)/o.value),a.x=p-a.w,a.y=l-a.h),d.value=H(H({},Ie(a,Ze)),ie(a))},{deep:!0}),(u,p)=>t(h)?(E(),X("div",{key:0,class:"go-edit-select",style:j(d.value)},Co,4)):$e("",!0)}});const So=te(yo,[["__scopeId","data-v-649acbea"]]),To=q({__name:"index",setup(e){const s=oe(),{getEditCanvasConfig:n,getEditCanvas:h}=Se(s),o=I(()=>({w:n.value.width,h:n.value.height})),g=I(()=>{const u={transform:`scale(${h.value.scale})`};return H(H({},ie(o.value)),u)}),d=I(()=>{const u=h.value.isCreate&&{"z-index":99999};return H(H({},ie(o.value)),u)});return(u,p)=>(E(),X("div",{class:"go-edit-range go-transition",style:j(t(g)),onMousedown:p[0]||(p[0]=l=>t(no)(l,void 0))},[Fe(u.$slots,"default",{},void 0,!0),w(t(fo)),w(t(ho)),w(t(So)),$("div",{class:"go-edit-range-model",style:j(t(d))},null,4)],36))}});const xo=te(To,[["__scopeId","data-v-78e41de7"]]),wo={class:"go-sketch-rule"},Eo=q({__name:"index",setup(e){ge(v=>({cdea24fc:t(z),"763b77a0":t(L),"63499e93":a.value}));const s=oe(),n=ut(),h=fe(),o=20;let g=[0,0],d=[0,0];const u=N(),p=N(!0),l=N(),_=N(),r=N(!1),a=N("auto"),{width:f,height:c}=Se(s.getEditCanvasConfig),i=N(0),m=N(0),S=ze({h:[],v:[]}),T=I(()=>s.getEditCanvas.scale),b=I(()=>`${window.innerWidth*2}px`),L=I(()=>`${c.value*2}px`),O=I(()=>h.getDarkTheme?{bgColor:"#18181c",longfgColor:"#4d4d4d",shortfgColor:"#4d4d4d",fontColor:"#4d4d4d",shadowColor:"#18181c",borderColor:"#18181c",cornerActiveColor:"#18181c"}:{}),z=I(()=>h.getAppTheme),se=v=>{if(v.ctrlKey||v.metaKey){v.preventDefault();let U=T.value;if(v.wheelDelta>=0&&T.value<2){U=T.value+.05,s.setScale(U);return}v.wheelDelta<0&&T.value>.1&&(U=T.value-.05,s.setScale(U))}},P=()=>{if(!u.value)return;const v=u.value.getBoundingClientRect(),U=l.value.getBoundingClientRect();i.value=(v.left+o-U.left)/T.value,m.value=(v.top+o-U.top)/T.value},C=v=>{var J,Z;if(v.preventDefault(),v.stopPropagation(),v.which==2)r.value=!0;else if(!((J=window.$KeyboardActive)!=null&&J.space))return;(Z=document.activeElement)==null||Z.blur();const U=v.pageX,R=v.pageY,ve=tt(window,"mousemove",Ue=>{const ft=Ue.pageX-U,vt=Ue.pageY-R,[Oe,Te]=g,[He,xe]=d;g=[Te,ft],d=[xe,vt],u.value.scrollLeft-=Te>Oe?Math.abs(Te-Oe):-Math.abs(Te-Oe),u.value.scrollTop-=xe>He?Math.abs(xe-He):-Math.abs(xe-He)}),W=tt(window,"mouseup",()=>{ve(),W(),g=[0,0],d=[0,0],r.value=!1})},M=()=>{const v=document.getElementById("go-chart-edit-layout");return v?{height:v.clientHeight-20,width:v.clientWidth-20}:{width:f.value,height:c.value}},A=lt(()=>{p.value=!1,setTimeout(()=>{p.value=!0},10)},20),Y=()=>{const{width:v,height:U}=_.value.getBoundingClientRect(),{width:R,height:ve}=M();u.value.scrollLeft=v/2-R/2,u.value.scrollTop=U/2-ve/2};return ae(()=>h.getDarkTheme,()=>{A()}),ae(()=>T.value,(v,U)=>{U!==v&&n.getRePositionCanvas&&n.setItemUnHandle(dt.RE_POSITION_CANVAS,!1),P(),setTimeout(()=>{Y(),A()},400)}),ae(()=>r.value,v=>{a.value=v?"grab":"auto"}),Ke(()=>{u.value&&(u.value.addEventListener("wheel",se,{passive:!1}),Y())}),nt(()=>{u.value&&u.value.removeEventListener("wheel",se)}),window.onKeySpacePressHold=v=>{r.value=v},(v,U)=>{const R=D("sketch-rule");return E(),X("div",wo,[p.value?(E(),B(R,{key:0,thick:o,scale:t(T),width:M().width,height:M().height,startX:i.value,startY:m.value,lines:S,palette:t(O)},null,8,["scale","width","height","startX","startY","lines","palette"])):$e("",!0),$("div",{ref_key:"$app",ref:u,class:"edit-screens",onScroll:P},[$("div",{ref_key:"$container",ref:_,class:"edit-screen-container",style:j({width:t(b)})},[$("div",{ref_key:"refSketchRuleBox",ref:l,class:"canvas",onMousedown:C,style:j({marginLeft:"-"+(M().width/2-25)+"px"})},[$("div",{style:j({pointerEvents:r.value?"none":"auto"})},[Fe(v.$slots,"default",{},void 0,!0)],4)],36)],4)],544)])}}});const bo=te(Eo,[["__scopeId","data-v-7cb8cc6f"]]),Ye={[k.ADD]:"æ–°å¢ž",[k.DELETE]:"åˆ é™¤",[k.UPDATE]:"æ›´æ–°",[k.MOVE]:"ç§»åŠ¨",[k.PASTE]:"ç²˜è´´",[k.COPY]:"å¤åˆ¶",[k.CUT]:"å‰ªåˆ‡",[k.TOP]:"ç½®é¡¶",[k.BOTTOM]:"ç½®åº•",[k.UP]:"ä¸Šç§»",[k.DOWN]:"ä¸‹ç§»",[k.GROUP]:"æˆç»„",[k.UN_GROUP]:"è§£ç»„",[k.LOCK]:"é”å®š",[k.UNLOCK]:"è§£é”",[k.HIDE]:"éšè—",[k.SHOW]:"æ˜¾ç¤º",[Le.CANVAS]:"ç”»å¸ƒåˆå§‹åŒ–"};var Lo=Array.prototype,ko=Lo.reverse;function Do(e){return e==null?e:ko.call(e)}var Io=Do;const $o=bt(Io),gt=e=>(Me("data-v-78517dbe"),e=e(),Re(),e),Mo={class:"go-flex-items-center"},Ro=gt(()=>$("span",{class:"btn-text"},"åŽ†å²è®°å½•",-1)),Uo={class:"history-list-box"},Oo=["title"],Ho=gt(()=>$("div",{class:"popover-modal"},null,-1)),Ao=q({__name:"index",setup(e){const{DesktopOutlineIcon:s,PencilIcon:n,TrashIcon:h,CopyIcon:o,LayersIcon:g,DuplicateIcon:d,HelpOutlineIcon:u,LockClosedOutlineIcon:p,LockOpenOutlineIcon:l,EyeOffOutlineIcon:_,EyeOutlineIcon:r}=le.ionicons5,{StackedMoveIcon:a,Carbon3DCursorIcon:f,Carbon3DSoftwareIcon:c}=le.carbon,i=Ft(),m=b=>{if(b.targetType===Le.CANVAS)return s;switch(b.actionType){case k.UPDATE:return n;case k.DELETE:return h;case k.PASTE:return o;case k.TOP:return g;case k.BOTTOM:return g;case k.UP:return g;case k.DOWN:return g;case k.MOVE:return a;case k.ADD:return d;case k.GROUP:return f;case k.UN_GROUP:return c;case k.LOCK:return p;case k.UNLOCK:return l;case k.HIDE:return _;case k.SHOW:return r;default:return n}},S=b=>{if(b.targetType===Le.CANVAS)return Ye[Le.CANVAS];if(b.actionType===k.GROUP||b.actionType===k.UN_GROUP)return`${Ye[b.actionType]}`;if(b.historyData.length)return`${Ye[b.actionType]} - ${b.historyData[0].chartConfig.title}`},T=I(()=>{const L=i.getBackStack.map(O=>({label:S(O),icon:m(O)}));return $o(L.filter(O=>O.label))});return(b,L)=>{const O=D("n-button"),z=D("n-icon"),se=D("n-text"),P=D("n-scrollbar"),C=D("n-popover"),M=D("n-tooltip");return E(),X("div",Mo,[w(C,{class:"edit-history-popover","show-arrow":!1,size:"small",trigger:"click",placement:"top-start"},{trigger:x(()=>[w(O,{class:"mr-10",secondary:"",size:"small",disabled:t(T).length===0},{default:x(()=>[Ro]),_:1},8,["disabled"])]),default:x(()=>[$("div",Uo,[w(P,{style:{"max-height":"500px"}},{default:x(()=>[(E(!0),X(re,null,ue(t(T),(A,Y)=>(E(),X("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:Y,title:A.label},[w(z,{class:"item-icon",size:"16",depth:2,component:A.icon},null,8,["component"]),w(se,{depth:"2"},{default:x(()=>[he(ee(A.label),1)]),_:2},1024)],8,Oo))),128))]),_:1}),Ho])]),_:1}),w(M,{trigger:"hover"},{trigger:x(()=>[w(z,{size:"21",depth:3},{default:x(()=>[w(t(u))]),_:1})]),default:x(()=>[$("span",null,"æœ€å¤šåªä¿ç•™"+ee(t(Lt))+"æ¡è®°å½•",1)]),_:1})])}}});const Po=te(Ao,[["__scopeId","data-v-78517dbe"]]),Ve=e=>(Me("data-v-bbdb0a72"),e=e(),Re(),e),Yo=Ve(()=>$("th",null,"åŠŸèƒ½",-1)),Xo=Ve(()=>$("th",null,"Win å¿«æ·é”®",-1)),No=Ve(()=>$("span",null," Mac å¿«æ·é”® ",-1)),Bo={key:0},Go={key:1},Ko=q({__name:"ShortcutKeyModal",props:{modelShow:Boolean},emits:["update:modelShow"],setup(e,{emit:s}){const n=e,{CloseIcon:h}=le.ionicons5,o=N(!1);ae(()=>n.modelShow,u=>{o.value=u});const g=[{label:"æ‹–æ‹½ç”»å¸ƒ",win:`${G.SPACE.toUpperCase()} + ðŸ–±ï¸ `,mac:`${K.SPACE.toUpperCase()} + ðŸ–±ï¸ `,macSource:!0},{label:"å‘ ä¸Š/å³/ä¸‹/å·¦ ç§»åŠ¨",win:`${G.CTRL.toUpperCase()} + â†‘ æˆ– â†’ æˆ– â†“ æˆ– â†`,mac:`${K.CTRL.toUpperCase()} + â†‘ `},{label:"é”å®š",win:`${G.CTRL.toUpperCase()} + L `,mac:`${K.CTRL.toUpperCase()} + L `},{label:"è§£é”",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()}+ L `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + L `},{label:"å±•ç¤º",win:`${G.CTRL.toUpperCase()} + H `,mac:`${K.CTRL.toUpperCase()} + H `},{label:"éšè—",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + H `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + H `},{label:"åˆ é™¤",win:"Delete".toUpperCase(),mac:`${K.CTRL.toUpperCase()} + Backspace `},{label:"å¤åˆ¶",win:`${G.CTRL.toUpperCase()} + C `,mac:`${K.CTRL.toUpperCase()} + C `},{label:"å‰ªåˆ‡",win:`${G.CTRL.toUpperCase()} + X `,mac:`${K.CTRL.toUpperCase()} + X `},{label:"ç²˜è´´",win:`${G.CTRL.toUpperCase()} + V `,mac:`${K.CTRL.toUpperCase()} + V `},{label:"åŽé€€",win:`${G.CTRL.toUpperCase()} + Z `,mac:`${K.CTRL.toUpperCase()} + Z `},{label:"å‰è¿›",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + Z `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + Z `},{label:"ä¿å­˜",win:`${G.CTRL.toUpperCase()} + S `,mac:`${K.CTRL.toUpperCase()} + S `},{label:"å¤šé€‰",win:`${G.CTRL.toUpperCase()} + ðŸ–±ï¸ `,mac:`${K.CTRL.toUpperCase()} + ðŸ–±ï¸ `},{label:"åˆ›å»ºåˆ†ç»„",win:`${G.CTRL.toUpperCase()} + G / ðŸ–±ï¸ `,mac:`${K.CTRL.toUpperCase()} + G / ðŸ–±ï¸`},{label:"è§£é™¤åˆ†ç»„",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + G `,mac:`${K.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + G `}],d=()=>{s("update:modelShow",!1)};return(u,p)=>{const l=D("n-icon"),_=D("n-space"),r=D("n-gradient-text"),a=D("n-table"),f=D("n-modal");return E(),B(f,{show:o.value,"onUpdate:show":p[0]||(p[0]=c=>o.value=c),"mask-closable":!0,onAfterLeave:d},{default:x(()=>[w(a,{class:"model-content",bordered:!1,"single-line":!1},{default:x(()=>[$("thead",null,[$("tr",null,[Yo,Xo,$("th",null,[w(_,{justify:"space-between"},{default:x(()=>[No,w(l,{size:"20",class:"go-cursor-pointer",onClick:d},{default:x(()=>[w(t(h))]),_:1})]),_:1})])])]),$("tbody",null,[(E(),X(re,null,ue(g,(c,i)=>$("tr",{key:i},[$("td",null,ee(c.label),1),$("td",null,ee(c.win),1),c.macSource?(E(),X("td",Bo,ee(c.mac),1)):(E(),X("td",Go,[w(r,{size:22},{default:x(()=>[he(ee(c.mac.substr(0,1)),1)]),_:2},1024),he(" + "+ee(c.mac.substr(3)),1)]))])),64))])]),_:1})]),_:1},8,["show"])}}});const Fo=te(Ko,[["__scopeId","data-v-bbdb0a72"]]),zo=e=>(Me("data-v-f48c63d8"),e=e(),Re(),e),Wo={class:"go-edit-shortcut"},Vo=zo(()=>$("span",null,"å¿«æ·é”®",-1)),jo=q({__name:"index",setup(e){const{DicomOverlayIcon:s}=le.carbon,n=N(!1);return(h,o)=>{const g=D("n-icon"),d=D("n-button"),u=D("n-tooltip");return E(),X("div",Wo,[w(Fo,{modelShow:n.value,"onUpdate:modelShow":o[0]||(o[0]=p=>n.value=p)},null,8,["modelShow"]),w(u,{trigger:"hover"},{trigger:x(()=>[w(d,{class:"scale-btn",secondary:"",size:"small",onClick:o[1]||(o[1]=p=>n.value=!0)},{default:x(()=>[w(g,{size:"21",depth:3},{default:x(()=>[w(t(s))]),_:1})]),_:1})]),default:x(()=>[Vo]),_:1})])}}});const qo=te(jo,[["__scopeId","data-v-f48c63d8"]]),Jo={class:"go-edit-data-sync go-flex-items-center"},Zo=q({__name:"index",setup(e){ge(_=>({"07b59586":g.value}));const{ReloadIcon:s}=le.ionicons5,n=oe(),h=fe(),{saveStatus:o}=Se(n.getEditCanvas),g=N(h.getAppTheme),d=N(""),u=N("");let p=setTimeout(()=>{});const l={[pe.PENDING]:{text:"ç­‰å¾…è‡ªåŠ¨åŒæ­¥",type:""},[pe.START]:{text:"æ­£åœ¨åŒæ­¥ä¸­",type:"success"},[pe.SUCCESS]:{text:"åŒæ­¥æˆåŠŸï¼",type:"success"},[pe.FAILURE]:{text:"åŒæ­¥å¤±è´¥!",type:"error"}};return ae(()=>o.value,_=>{clearTimeout(p),d.value=l[_].text,u.value=l[_].type,p=setTimeout(()=>{d.value=l[pe.PENDING].text,u.value=l[pe.PENDING].type},3e3)},{immediate:!0}),(_,r)=>{const a=D("n-text"),f=D("n-tooltip"),c=D("n-icon"),i=D("n-spin");return E(),X("div",Jo,[w(f,{trigger:"hover"},{trigger:x(()=>[w(a,{class:"status-desc go-ml-2",type:u.value,depth:"3"},{default:x(()=>[he(ee(d.value),1)]),_:1},8,["type"])]),default:x(()=>[$("span",null,ee(t(kt))+"s æ›´æ–°ä¸€æ¬¡",1)]),_:1}),Ee(w(i,{class:"go-ml-2",size:"small"},{icon:x(()=>[w(c,{size:"13"},{default:x(()=>[w(t(s))]),_:1})]),_:1},512),[[be,d.value===l[1].text]])])}}});const Qo=te(Zo,[["__scopeId","data-v-18522cbc"]]),es={class:"go-edit-bottom"},ts=q({__name:"index",setup(e){ge(T=>({"6f88b5b6":o.value}));const{LockClosedOutlineIcon:s,LockOpenOutlineIcon:n}=le.ionicons5,h=fe(),o=N(h.getAppTheme),g=ut(),d=oe(),{lockScale:u,scale:p}=Se(d.getEditCanvas),l=N(null);let _=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"è‡ªé€‚åº”",value:0}];const r=N(""),a=T=>{var b;if((b=l.value)==null||b.blur(),T===0){g.setItemUnHandle(dt.RE_POSITION_CANVAS,!0),d.computedScale();return}d.setScale(T/100)},f=()=>{d.setEditCanvas(V.LOCK_SCALE,!u.value)},c=N(100),i=T=>`${T}%`,m=T=>{d.setScale(T/100)},S=ze({100:""});return Dt(()=>{const T=(p.value*100).toFixed(0);r.value=`${T}%`,c.value=parseInt(T)}),(T,b)=>{const L=D("n-text"),O=D("n-divider"),z=D("n-space"),se=D("n-select"),P=D("n-icon"),C=D("n-button"),M=D("n-tooltip"),A=D("n-slider");return E(),X("div",es,[w(z,null,{default:x(()=>[w(t(Po)),w(L,{id:"keyboard-dress-show",depth:"3"}),w(O,{vertical:""}),w(t(Qo))]),_:1}),w(z,{class:"bottom-ri"},{default:x(()=>[w(t(qo)),w(se,{ref_key:"selectInstRef",ref:l,class:"scale-btn",value:r.value,"onUpdate:value":[b[0]||(b[0]=Y=>r.value=Y),a],size:"mini",disabled:t(u),options:t(_)},null,8,["value","disabled","options"]),w(M,{trigger:"hover"},{trigger:x(()=>[w(C,{onClick:f,text:""},{default:x(()=>[w(P,{class:ne(["lock-icon",{color:t(u)}]),size:"18",depth:2},{default:x(()=>[t(u)?(E(),B(t(s),{key:0})):(E(),B(t(n),{key:1}))]),_:1},8,["class"])]),_:1})]),default:x(()=>[$("span",null,ee(t(u)?"è§£é”":"é”å®š")+"å½“å‰æ¯”ä¾‹",1)]),_:1}),w(A,{class:"scale-slider",value:c.value,"onUpdate:value":[b[1]||(b[1]=Y=>c.value=Y),m],"default-value":50,min:10,max:200,step:5,"format-tooltip":i,disabled:t(u),marks:S},null,8,["value","disabled","marks"])]),_:1})])}}});const os=te(ts,[["__scopeId","data-v-ce473972"]]),ye=oe(),ss=()=>{ye.setTargetSelectChart(void 0),It($t(ye.getStorageInfo()||[]),void 0,"json");const e=document.querySelector(".go-edit-range"),s=document.getElementById("go-edit-watermark");if(!e||!s){window.$message.error("å¯¼å‡ºå¤±è´¥ï¼");return}const n=ye.getEditCanvas.scale;ye.setScale(1,!0),s.style.display="block",setTimeout(()=>{Mt(e,()=>{s&&(s.style.display="none"),ye.setScale(n,!0)})},600)},ns=()=>{const e=N(),{updateComponent:s}=it();return{importUploadFileListRef:e,importBeforeUpload:({file:o})=>{e.value=[];const g=o.file.type;return g!==ot.JSON&&g!==ot.TXT?(window.$message.warning("ä»…æ”¯æŒä¸Šä¼  ã€JSONã€‘ æ ¼å¼æ–‡ä»¶ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼"),!1):!0},importCustomRequest:o=>{const{file:g}=o;Rt(()=>{g.file?Ut(g.file).then(d=>{Jt({message:"è¯·é€‰æ‹©å¯¼å…¥æ–¹å¼:",positiveText:"æ–°å¢žï¼ˆå¯æ’¤å›žï¼‰",negativeText:"è¦†ç›–ï¼ˆä¸å¯æ’¤å›žï¼‰",negativeButtonProps:{type:"info",ghost:!1},onPositiveCallback:()=>de(void 0,null,function*(){try{d=Xe(d),yield s(d,!1,!0),window.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(u){console.log(u),window.$message.error("ç»„ä»¶å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§!")}}),onNegativeCallback:()=>de(void 0,null,function*(){try{d=Xe(d),yield s(d,!0,!0),window.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(u){console.log(u),window.$message.error("ç»„ä»¶å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§!")}})})}):window.$message.error("å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æˆ–è”ç³»ç®¡ç†å‘˜ï¼")})}}};var ce=(e=>(e.BUTTON="button",e.IMPORTUPLOAD="importUpload",e))(ce||{});const as={class:"btn-item"},rs=q({__name:"index",setup(e){const{DownloadIcon:s,ShareIcon:n,PawIcon:h,SettingsSharpIcon:o,CreateIcon:g}=le.ionicons5,d=ct(),u=oe();Ot(),eo();let p=null;const l=N(!1),_=N(!0),r=N(!0),{importUploadFileListRef:a,importCustomRequest:f,importBeforeUpload:c}=ns(),i=I(()=>d.getChartToolsStatus===Qe.ASIDE),m=I(()=>d.getChartToolsStatusHide),S=I(()=>_.value&&m.value),T=I(()=>{if(!i.value)return se;const P=[];return se.map(C=>{P.unshift(C)}),P}),b=()=>{p=setTimeout(()=>{_.value&&(_.value=!1,r.value=!0)},200),setTimeout(()=>{r.value=!1},400)},L=()=>{clearTimeout(p),_.value||(_.value=!0)},O=()=>{window.$message.warning("è¯·é€šè¿‡é¡¶éƒ¨ã€åŒæ­¥å†…å®¹ã€‘æŒ‰é’®åŒæ­¥æœ€æ–°æ•°æ®ï¼"),u.setEditCanvas(V.IS_CODE_EDIT,!0),setTimeout(()=>{const P=At(Pt.CHART_EDIT_NAME,"href");if(!P)return;const C=Yt();z(C),Xt(P,[C],void 0,!0)},2e3)},z=P=>{const C=u.getStorageInfo(),M=Nt(we.GO_CHART_STORAGE_LIST)||[];if(M!=null&&M.length){const A=M.findIndex(Y=>Y.id===P);A!==-1?(M.splice(A,1,me(H({},C),{id:P})),Pe(we.GO_CHART_STORAGE_LIST,M)):(M.push(me(H({},C),{id:P})),Pe(we.GO_CHART_STORAGE_LIST,M))}else Pe(we.GO_CHART_STORAGE_LIST,[me(H({},C),{id:P})])},se=[{key:"import",type:ce.IMPORTUPLOAD,name:"å¯¼å…¥",icon:n},{key:"export",type:ce.BUTTON,name:"å¯¼å‡º",icon:s,handle:ss},{key:"edit",type:ce.BUTTON,name:"ç¼–è¾‘",icon:g,handle:O},{key:"setting",type:ce.BUTTON,name:"è®¾ç½®",icon:o,handle:()=>{l.value=!0}}];return(P,C)=>{const M=D("n-icon"),A=D("n-text"),Y=D("n-button"),v=D("n-upload"),U=D("n-tooltip");return E(),X(re,null,[$("div",{class:ne(["go-chart-edit-tools",[t(d).getChartToolsStatus,t(S)?"isMini":"unMini"]]),onClick:C[1]||(C[1]=R=>_.value&&(_.value=!1)),onMouseenter:b,onMouseleave:L},[Ee(w(M,{class:"asideLogo",size:"22"},{default:x(()=>[w(t(h))]),_:1},512),[[be,t(d).getChartToolsStatus===t(Qe).ASIDE&&t(S)]]),(E(!0),X(re,null,ue(t(T),(R,ve)=>(E(),B(U,{key:R.key,disabled:!t(i)||t(m)&&r.value,trigger:"hover",placement:"left"},{trigger:x(()=>[$("div",as,[R.type===t(ce).BUTTON?(E(),B(Y,{key:0,circle:t(i),secondary:"",onClick:R.handle},{icon:x(()=>[t(i)?(E(),B(M,{key:0,size:"22"},{default:x(()=>[(E(),B(_e(R.icon)))]),_:2},1024)):(E(),B(_e(R.icon),{key:1}))]),default:x(()=>[Ee(w(A,{depth:"3"},{default:x(()=>[he(ee(R.name),1)]),_:2},1536),[[be,!t(i)]])]),_:2},1032,["circle","onClick"])):R.type===t(ce).IMPORTUPLOAD?(E(),B(v,{key:1,"file-list":t(a),"onUpdate:file-list":C[0]||(C[0]=W=>Ht(a)?a.value=W:null),"show-file-list":!1,customRequest:t(f),onBeforeUpload:t(c)},{default:x(()=>[w(Y,{circle:t(i),secondary:""},{icon:x(()=>[t(i)?(E(),B(M,{key:0,size:"22"},{default:x(()=>[(E(),B(_e(R.icon)))]),_:2},1024)):(E(),B(_e(R.icon),{key:1}))]),default:x(()=>[Ee(w(A,{depth:"3"},{default:x(()=>[he(ee(R.name),1)]),_:2},1536),[[be,!t(i)]])]),_:2},1032,["circle"])]),_:2},1032,["file-list","customRequest","onBeforeUpload"])):$e("",!0)])]),default:x(()=>[$("span",null,ee(R.name),1)]),_:2},1032,["disabled"]))),128))],34),w(t(Qt),{modelShow:l.value,"onUpdate:modelShow":C[2]||(C[2]=R=>l.value=R)},null,8,["modelShow"])],64)}}});const cs=te(rs,[["__scopeId","data-v-705dcb7b"]]),ls=q({__name:"index",setup(e){const s=oe(),{handleContextMenu:n}=We(),{dataSyncFetch:h,intervalDataSyncUpdate:o}=it();Bt(),Gt(Wt,null),to(()=>de(this,null,function*(){}));const{mouseenterHandle:g,mouseleaveHandle:d,mousedownHandle:u,mouseClickHandle:p}=_t(),l=(f,c,i)=>{if(s.getTargetChart.selectId.length>1)return c.filter(S=>[Q.GROUP,Q.DELETE].includes(S.key));const m=[];return i.status.lock?m.push(Q.LOCK):m.push(Q.UNLOCK),i.status.hide?m.push(Q.HIDE):m.push(Q.SHOW),f.filter(S=>!m.includes(S.key))},_=I(()=>s.getEditCanvasConfig.chartThemeSetting),r=I(()=>at(s.getEditCanvasConfig.chartCustomThemeColorInfo)[s.getEditCanvasConfig.chartThemeColor]);I(()=>s.getEditCanvasConfig.filterShow);const a=I(()=>{const f=s.getEditCanvasConfig.background,c=s.getEditCanvasConfig.backgroundImage,S=s.getEditCanvasConfig.selectColor?{background:f||void 0}:{background:`url(${c}) no-repeat center center / cover !important`};return me(H({},S),{width:"inherit",height:"inherit"})});return Ke(()=>{Vt(),h()}),(f,c)=>(E(),B(t(Zt),{id:"go-chart-edit-layout",flex:!0,showTop:!1,showBottom:!0,depth:1,xScroll:!0,disabledScroll:!0,onMousedown:t(pt),onDrop:t(so),onDragover:t(st),onDragenter:t(st)},{aside:x(()=>[w(t(cs))]),bottom:x(()=>[w(t(os))]),default:x(()=>[w(t(bo),null,{default:x(()=>[$("div",{id:"go-chart-edit-content",onContextmenu:c[0]||(c[0]=(...i)=>t(n)&&t(n)(...i))},[w(t(xo),null,{default:x(()=>[$("div",{style:j(H(H({},t(De)(t(s).getEditCanvasConfig)),t(a)))},[(E(!0),X(re,null,ue(t(s).getComponentList,(i,m)=>(E(),X("div",{key:i.id},[i.isGroup?(E(),B(t(uo),{key:0,groupData:i,groupIndex:m},null,8,["groupData","groupIndex"])):(E(),B(t(Ge),{key:1,"data-id":i.id,index:m,style:j(H(H({},t(Ie)(i.attr,m)),t(rt)(i.styles))),item:i,onClick:S=>t(p)(S,i),onMousedown:S=>t(u)(S,i),onMouseenter:S=>t(g)(S,i),onMouseleave:S=>t(d)(S,i),onContextmenu:S=>t(n)(S,i,l)},{default:x(()=>[(E(),B(_e(i.chartConfig.chartKey),{class:ne(["edit-content-chart",t(Ne)(i.styles.animations)]),chartConfig:i,themeSetting:t(_),themeColor:t(r),style:j(H(H(H({},t(ie)(i.attr)),t(De)(i.styles)),t(Be)(i.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","style","item","onClick","onMousedown","onMouseenter","onMouseleave","onContextmenu"]))]))),128))],4)]),_:1})],32)]),_:1})]),_:1},8,["onMousedown","onDrop","onDragover","onDragenter"]))}});const Ms=te(ls,[["__scopeId","data-v-3ccfb99d"]]);export{Ms as default};
